## 개요

새로운 프로젝트를 만들려고 해.
이 프로젝트는, 벤처 펀드에 출자할 조합원들의 정보를 받기 위한 설문조사 플랫폼이야.
마치 구글폼이나 타입폼같은 형태지만, 커스터마이제이션을 하고 싶어서 직접 만들려고 해.
왜냐면 이 정보를 나중에도 여러가지로 활용할 수 있을 것이라고 생각하거든.

## 기술 스택

웹은 nextjs를 사용할 것이고, vercel에 배포할거야.
언어는 typescript를 이용할 것이고, ssr보다는 csr형태를 사용할거야.
store는 Zustand를 사용해 줘.
db는 supabase를 이용할 계획이야. 하지만 supabase edge function은 사용하지 않아.

## 디자인 개요

shadcn과 tailwind css를 기본적으로 사용하고자 해.
페이지는 반응형으로 만들어서, pc 및 모바일에 모두 최적화되어야 해.

## 페이지 경로

'/' 경로에는 홈페이지를 만들 예정이야.
'/survey' 경로가 핵심이고, 여기에 아래에서 얘기하는 설문 내용을 구현하는 것이야.
그 외에는 현재는 아무런 경로는 없어.

## 설문조사 페이지 레이아웃

설문조사 페이지가 가장 중요하므로 설문조사 페이지를 먼저 설명할게.
각 설문조사 페이지는 타이틀(=핵심 질문), 상세 설명(부연 설명 기능), 답변, 답변에 대한 설명 으로 이루어져 있어.
지원하는 답변 컴포넌트 종류는 텍스트 인풋 / 넘버 인풋 / 생년월일 인풋(xxxx년 xx월 xx일 형태) / 사업자번호 인풋(xxx-xx-xxxxx 형태) / 전화번호 인풋(010-xxxx-xxxx 형태) / 이메일 인풋(xxx@xxxx.xxx형태) / 객관식 선택 (목록 데이터는 테이블로 제공) / '다음' 버튼 정도를 우선 초기에 제공하면 돼.
각 페이지에 들어갈 내용은 아래와 같아.

### 1페이지

- 타이틀: 출자하실분의 성함 또는 회사명((주) 및 주식회사 포함)을 알려주세요.
- 텍스트 인풋

### 2페이지

- 타이틀: 출자좌수를 알려주세요.
- 상세설명: 출자금액 1백만원당 1좌입니다. 만약 2천만원을 출자하실 계획이라면, 20(좌)을 입력해 주시면 됩니다.
- 넘버 인풋

### 3페이지

- 타이틀: 연락 가능한 전화번호를 알려주세요.
- 전화번호 인풋

### 4페이지

- 타이틀: 주소를 알려주세요.
- 텍스트 인풋

### 5페이지

- 타이틀: 이메일을 알려주세요.
- 이메일 인풋

### 6페이지

- 타이틀: 개인 or 법인을 알려주세요.
- 객관식 선택 (개인, 법인)

### 7페이지 - 6페이지에서 개인을 선택한 경우에만

- 타이틀: 생년월일을 알려주세요.
- 생년월일 인풋
- 9페이지로 이동

### 8페이지 - 6페이지에서 법인을 선택한 경우에만

- 타이틀: 사업자등록번호를 알려주세요.
- 사업자번호 인풋
- 9페이지로 이동

### 9페이지

최종 제출 페이지로서, 기존 설문지 페이지랑은 조금 다른 형태의 페이지로 구성됨.

- 타이틀: 제출이 완료되었습니다!
- 상세 설명: 향후 진행되는 내용 확인 등을 위해 회원가입 하시겠습니까? 기존에 입력하신 정보로 회원 가입이 진행되므로 추가 입력 정보가 거의 없습니다.
- 하단 버튼: '페이지에서 나가기', '회원 가입하기'

### 회원가입 페이지

회원 가입은 크게 3가지 방식으로 가능함.
첫번째는 기존에 입력한 이메일을 사용하고 추가로 비밀번호 및 비밀번호 확인 을 입력밥는 방법이고,
두번째는 카카오톡 로그인(supabase auth 이용),
세번째는 구글 로그인(supabase auth 이용)임.

회원가입 페이지에서는 이 셋 중 선택하게 한 다음 바로 회원가입을 완료하면됨.
셋중 하나를 선택시, 페이지 이동은 하지말고 csr 형태로 이 페이지에서 모든 내용을 처리.

### 회원가입 완료 페이지

회원가입이 완료되면 회원 가입 완료 안내 문구만 있는 페이지만 뜸.
창 닫기 정도 기능만 있으면 됨.

## 홈페이지 레이아웃

### 홈페이지

앞서 설명했던대로 경로는 '/' 이야.
우선 간단한 홈페이지 레이아웃부터 설명할게.
복잡한 홈페이지 내용은 나중에 구현할 예정이고, 우선 'SNUSV ANGEL CLUB' 이라고 텍스트 정도만 있는 간단한 하나의 페이지를 만들어야 해.
다만, 이 페이지에는 로그인 버튼이 하나 있는데 이 버튼을 누르면 로그인 페이지로 이동해.

### 로그인 페이지

설문조사 페이지에서 회원가입을 했듯이, 이 페이지에서 로그인 하는 방법은 이메일/암호 방식, 구글 로그인 방식, 카카오톡 로그인 방식 총 3가지야.
그런데 보통의 경우, 회원가입을 하지 않은 사람이 구글/카카오로 로그인을 시도 하는 경우, 회원 가입 페이지로 이동을 시키게 되는데, 우리는 그냥 로그인 실패를 나타내고 다시 홈페이지('/')로 돌아가게 해야 해.
그렇지 않고 로그인에 성공하면, 기존에 입력한 설문조사 정보가 쭉 뜨도록 하고 그냥 보여주기만 하는 페이지야. 아, 로그아웃 버튼은 있어.

참고로 설문조사 정보를 전부 보여주되 두 가지 카테고리로 나눠서 보여줘야 하는데, 아래 db에서 설명할 개인정보 파트와 펀드 정보 파트로 나눠서 보여주면 돼.

## DB 구조

supabase의 auth를 기본 사용하지만, supabase에서 기본적으로 제공하는 컬럼 외 정보는 `profiles`라는 테이블을 만들어서 별도로 저장해.
그곳에는 전화번호/이메일/개인or법인/생년월일/사업자번호/주소 등이 저장돼.
펀드는 여러개가 존재할 수 있어서, `funds`라는 테이블이 필요해. 여기에는 uuid, name(펀드명)이 있어.
그리고 펀드 조합원 정보는 `fund_members` 테이블에 넣는데, 여기에는 uuid, fund_id, user_id, total_amount(펀드 출자금)으로 우선 구분돼.

## 정보 입력 흐름

유저가 입력한 내용은 store에 저장됨.
8페이지까지 입력한 내용을 제출하면, db에서는 아직 회원 가입 상태는 아니므로 auth 테이블에 저장을 하지 않고 바로 profiles 테이블, fund_members 테이블에 값이 저장돼.
아 그리고 참고로 아직은 poc 단계이므로 funds 테이블에 넣을 fund 정보는 단 하나야. '프로펠-SNUSV엔젤투자조합2호`의 name을 가지는 row 하나를 생성을 미리 해놔야하고, 일단은 이 정보를 fund_members에 무조건 연동하도록 할거야.
